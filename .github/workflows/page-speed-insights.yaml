name: Page Seed Insight

on: [push]

jobs:
  Page-Speed-Insight:
    runs-on: ubuntu-latest
    steps:
      - name: "branch name check"
      - run: |
          echo 'branch name = ' ${{ github.head_ref }}
        - if: ${{ github.ref_name }} === 'main' && URL = 'hoge'
        - if: ${{ github.ref_name }} === 'development' && URL = 'foo'

      - name: "[ Mobile ] Running Page Speed Insights"
        echo ${URL}
        uses: jakepartusch/psi-action@v1.2
        id: mobile_page_speed_insigths
        with:
          url: 'https://next-startup-gilt.vercel.app/'
          threshold: 90
          strategy: mobile
          # PSI_APIKEY = @see https://developers.google.com/speed/docs/insights/v5/get-started
          key: ${{ secrets.PSI_APIKEY }}

      - name: "[ Desktop ] Running Page Speed Insights"
        echo ${URL}
        uses: jakepartusch/psi-action@v1.2
        id: desktop_page_speed_insigths
        with:
          url: 'https://next-startup-gilt.vercel.app/'
          threshold: 90
          strategy: desktop
          # PSI_APIKEY = @see https://developers.google.com/speed/docs/insights/v5/get-started
          key: ${{ secrets.PSI_APIKEY }}
            
            https://next-startup-git-development-yokohama1.vercel.app/